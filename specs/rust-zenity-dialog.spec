# Generated by rust2rpm 27
%bcond check 1
%global debug_package %{nil}

%global crate zenity-dialog

Name:           rust-zenity-dialog
Version:        0.3.6
Release:        %autorelease
Summary:        Statically typed wrapper around the Zenity dialog rendering tool for Linux

License:        MIT OR Apache-2.0
URL:            https://crates.io/crates/zenity-dialog
Source:         %{crates_source}
# * https://github.com/toadslop/zenity-dialog/pull/1
Source2:        https://github.com/toadslop/zenity-dialog/raw/31157cc353b147f81f84d69cc51fbc14d198d1dd/LICENSE-APACHE
# * https://github.com/toadslop/zenity-dialog/pull/1
Source3:        https://github.com/toadslop/zenity-dialog/raw/31157cc353b147f81f84d69cc51fbc14d198d1dd/LICENSE-MIT

BuildRequires:  cargo-rpm-macros >= 24

%global _description %{expand:
Provides a statically typed wrapper around the Zenity dialog rendering
tool for Linux.}

%description %{_description}

%package        devel
Summary:        %{summary}
BuildArch:      noarch

%description    devel %{_description}

This package contains library source intended for building other packages which
use the "%{crate}" crate.

%files          devel
%license %{crate_instdir}/LICENSE-APACHE
%license %{crate_instdir}/LICENSE-MIT
%doc %{crate_instdir}/README.md
%{crate_instdir}/

%package     -n %{name}+default-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+default-devel %{_description}

This package contains library source intended for building other packages which
use the "default" feature of the "%{crate}" crate.

%files       -n %{name}+default-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+calendar-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+calendar-devel %{_description}

This package contains library source intended for building other packages which
use the "calendar" feature of the "%{crate}" crate.

%files       -n %{name}+calendar-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+chrono-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+chrono-devel %{_description}

This package contains library source intended for building other packages which
use the "chrono" feature of the "%{crate}" crate.

%files       -n %{name}+chrono-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+entry-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+entry-devel %{_description}

This package contains library source intended for building other packages which
use the "entry" feature of the "%{crate}" crate.

%files       -n %{name}+entry-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+error-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+error-devel %{_description}

This package contains library source intended for building other packages which
use the "error" feature of the "%{crate}" crate.

%files       -n %{name}+error-devel
%ghost %{crate_instdir}/Cargo.toml

%package     -n %{name}+info-devel
Summary:        %{summary}
BuildArch:      noarch

%description -n %{name}+info-devel %{_description}

This package contains library source intended for building other packages which
use the "info" feature of the "%{crate}" crate.

%files       -n %{name}+info-devel
%ghost %{crate_instdir}/Cargo.toml

%prep
%autosetup -n %{crate}-%{version} -p1
cp -p %SOURCE2 %SOURCE3 .
%cargo_prep

%generate_buildrequires
%cargo_generate_buildrequires

%build
%cargo_build

%install
%cargo_install

%if %{with check}
%check
# * Skip doc tests as they are broken
%cargo_test -- --lib
%endif

%changelog
%autochangelog
