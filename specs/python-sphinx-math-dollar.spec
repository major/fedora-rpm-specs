%global giturl  https://github.com/sympy/sphinx-math-dollar

Name:           python-sphinx-math-dollar
Version:        1.3
Release:        %autorelease
Summary:        Sphinx extension to enable LaTeX math with $$

# MIT: All files with the following exception.
# CC0-1.0: The _version.py file generated by versioneer.  If upstream updates to
# versioneer 0.24 or later, the license will change to Unlicense.
License:        MIT AND CC0-1.0
URL:            https://www.sympy.org/sphinx-math-dollar/
VCS:            git:%{giturl}.git
Source:         %{giturl}/archive/%{version}/sphinx-math-dollar-%{version}.tar.gz

BuildArch:      noarch
BuildSystem:    pyproject
BuildOption(install): -l sphinx_math_dollar

BuildRequires:  make
BuildRequires:  %{py3_dist pytest-doctestplus}

%global _desc sphinx-math-dollar is a Sphinx extension to let you write LaTeX math using $$.

%description
%_desc

%package     -n python3-sphinx-math-dollar
Summary:        Sphinx extension to enable LaTeX math with $$

%description -n python3-sphinx-math-dollar
%_desc

%package        doc
# The content is MIT.  Other licenses are due to files copied in by Sphinx.
# _static/_sphinx_javascript_frameworks_compat.js: BSD-2-Clause
# _static/alabaster.css: BSD-3-Clause
# _static/basic.css: BSD-2-Clause
# _static/custom.css: BSD-3-Clause
# _static/doctools.js: BSD-2-Clause
# _static/documentation_options.js: BSD-2-Clause
# _static/file.png: BSD-2-Clause
# _static/jquery*.js: MIT
# _static/language_data.js: BSD-2-Clause
# _static/minus.png: BSD-2-Clause
# _static/plus.png: BSD-2-Clause
# _static/searchtools.js: BSD-2-Clause
# _static/underscore*.js: MIT
# genindex.html: BSD-2-Clause
# search.html: BSD-2-Clause
# searchindex.js: BSD-2-Clause
License:        MIT AND BSD-2-Clause AND BSD-3-Clause
Summary:        Documentation for sphinx-math-dollar

%description    doc
Documentation for sphinx-math-dollar.

%prep
%autosetup -n sphinx-math-dollar-%{version} -p1

%build -a
# Build the documentation
make -C docs html
rst2html --no-datestamp CHANGELOG.rst CHANGELOG.html
rst2html --no-datestamp README.rst README.html
rm -f docs/_build/html/.{buildinfo,nojekyll}

%check
%pytest -v

%files -n python3-sphinx-math-dollar -f %{pyproject_files}
%doc CHANGELOG.html README.html

%files doc
%doc docs/_build/html
%license LICENSE

%changelog
%autochangelog
