Name:           perl-Dist-Build
Version:        0.025
Release:        1%{?dist}
Summary:        Modern module builder with author tools not included

License:        GPL-1.0-or-later OR Artistic-1.0-Perl
URL:            https://metacpan.org/dist/Dist-Build
Source0:        https://www.cpan.org/authors/id/L/LE/LEONT/Dist-Build-%{version}.tar.gz

BuildArch:      noarch
BuildRequires:  coreutils
BuildRequires:  gcc
BuildRequires:  perl-devel
BuildRequires:  perl-generators
BuildRequires:  perl-interpreter
BuildRequires:  perl(:VERSION) >= 5.10.0
BuildRequires:  perl(blib)
BuildRequires:  perl(Carp)
BuildRequires:  perl(Config)
BuildRequires:  perl(CPAN::Meta)
BuildRequires:  perl(CPAN::Meta::Merge)
BuildRequires:  perl(CPAN::Requirements::Dynamic) >= 0.002
BuildRequires:  perl(Cwd)
BuildRequires:  perl(Data::Dumper)
BuildRequires:  perl(Exporter) >= 5.57
BuildRequires:  perl(ExtUtils::Builder::Action::Function)
BuildRequires:  perl(ExtUtils::Builder::Compiler) >= 0.034
BuildRequires:  perl(ExtUtils::Builder::Node)
BuildRequires:  perl(ExtUtils::Builder::ParseXS)
BuildRequires:  perl(ExtUtils::Builder::Planner) >= 0.016
BuildRequires:  perl(ExtUtils::Builder::Planner::Extension)
BuildRequires:  perl(ExtUtils::Builder::Serializer)
BuildRequires:  perl(ExtUtils::Builder::Util) >= 0.019
BuildRequires:  perl(ExtUtils::Config)
BuildRequires:  perl(ExtUtils::HasCompiler) >= 0.024
BuildRequires:  perl(ExtUtils::Helpers) >= 0.028
BuildRequires:  perl(ExtUtils::Install)
BuildRequires:  perl(ExtUtils::InstallPaths)
BuildRequires:  perl(ExtUtils::Manifest)
BuildRequires:  perl(File::Basename)
BuildRequires:  perl(File::Copy)
BuildRequires:  perl(File::Find)
BuildRequires:  perl(File::Path)
BuildRequires:  perl(File::ShareDir::Tiny)
BuildRequires:  perl(File::Spec)
BuildRequires:  perl(File::Spec::Functions)
BuildRequires:  perl(File::Temp)
BuildRequires:  perl(Getopt::Long) >= 2.36
BuildRequires:  perl(IO::File)
BuildRequires:  perl(IO::Handle)
BuildRequires:  perl(IPC::Open2)
BuildRequires:  perl(IPC::Open3)
BuildRequires:  perl(lib)
BuildRequires:  perl(List::Util) >= 1.33
BuildRequires:  perl(Module::Build)
BuildRequires:  perl(parent)
BuildRequires:  perl(Parse::CPAN::Meta)
BuildRequires:  perl(Perl::OSType)
BuildRequires:  perl(Pod::Man)
BuildRequires:  perl(strict)
BuildRequires:  perl(TAP::Harness::Env)
BuildRequires:  perl(Test::More) >= 0.88
BuildRequires:  perl(Text::ParseWords)
BuildRequires:  perl(version)
BuildRequires:  perl(warnings)
BuildRequires:  perl(XSLoader)
Requires:       perl(CPAN::Meta::Merge)
Requires:       perl(CPAN::Requirements::Dynamic) >= 0.002
Requires:       perl(ExtUtils::Builder::Compiler) >= 0.034
Requires:       perl(Perl::OSType)
Requires:       perl(Pod::Man)
Requires:       perl(TAP::Harness::Env)

%{?perl_default_filter}

%description
Dist::Build is a Build.PL implementation. Unlike Module::Build::Tiny it is
extensible, unlike Module::Build it uses a build graph internally which
makes it easy to combine different customizations. It's typically extended
by adding a .pl script in planner/.

%prep
%setup -q -n Dist-Build-%{version}

%build
perl Build.PL --installdirs=vendor
./Build

%install
./Build install --destdir=$RPM_BUILD_ROOT --create_packlist=0
%{_fixperms} $RPM_BUILD_ROOT/*

%check
./Build test

%files
%doc Changes examples README
%license LICENSE
%dir %{perl_vendorlib}/Dist
%{perl_vendorlib}/Dist/Build.pm
%{perl_vendorlib}/Dist/Build
%{_mandir}/man3/Dist::Build*

%changelog
* Mon Jan 19 2026 Charles R. Anderson <cra@alum.wpi.edu> 0.025-1
- Update to 0.025

* Sat Jan 17 2026 Fedora Release Engineering <releng@fedoraproject.org> - 0.021-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_44_Mass_Rebuild

* Fri Dec 05 2025 Charles R. Anderson <cra@alum.wpi.edu> 0.022-1
- Update to 0.022

* Sat Nov 15 2025 Charles R. Anderson <cra@alum.wpi.edu> 0.021-1
- Update to 0.021
- Use https for Source0

* Wed Aug 20 2025 Charles R. Anderson <cra@alum.wpi.edu> 0.020-3
- BR: coreutils for _fixperms macro
- BR: perl(Config)
- Remove duplicate explicit Requires:
  perl(Exporter)
  perl(ExtUtils::Builder::Planner)
  perl(ExtUtils::Helpers)
  perl(Getopt::Long)
  perl(List::Util)
- Add missing Requires:
  perl(CPAN::Meta::Merge)
  perl(Perl::OSType)
  perl(Pod::Man)
  perl(TAP::Harness::Env)
- Use more specific files list

* Sun May 04 2025 Charles R. Anderson <cra@alum.wpi.edu> 0.020-2
- Add perl_default_filter
- Update description
- BR: gcc perl-devel

* Sat May 03 2025 Charles R. Anderson <cra@alum.wpi.edu> 0.020-1
- Specfile autogenerated by cpanspec 1.78.
